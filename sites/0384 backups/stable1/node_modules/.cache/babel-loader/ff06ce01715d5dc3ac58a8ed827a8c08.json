{"ast":null,"code":"import _classCallCheck from\"/root/0384full/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/root/0384full/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/root/0384full/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/root/0384full/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import{Collapse,Col}from'react-bootstrap';import clip from\"../assets/img/enlace.svg\";var LectureRecords=/*#__PURE__*/function(_React$Component){_inherits(LectureRecords,_React$Component);var _super=_createSuper(LectureRecords);function LectureRecords(props){var _this;_classCallCheck(this,LectureRecords);_this=_super.call(this,props);_this.subject_id=_this.props.subject_id;_this.state={open:false,lectories:[]};return _this;}_createClass(LectureRecords,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var apiUrl=\"/api/subjectlectories/?id=\".concat(this.subject_id);axios.get(apiUrl).then(function(resp){if(resp.data.length>0){_this2.setState({lectories:resp.data});}});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"page-subdirect__lectorBlock\"},this.state.lectories.length>0&&/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this3.setState({open:!_this3.state.open});},\"aria-controls\":\"collapsed-block2\",\"aria-expanded\":this.state.open},\"\\u0417\\u0430\\u043F\\u0438\\u0441\\u0438 \\u043B\\u0435\\u043A\\u0446\\u0438\\u0439\"),/*#__PURE__*/React.createElement(Collapse,{in:this.state.open},/*#__PURE__*/React.createElement(\"div\",{id:\"collapsed-block2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"wrapper\"},this.state.lectories.map(function(res,index){if(res.type==='youtube'){//В Бд нужно только ID видео на youtube\nreturn/*#__PURE__*/React.createElement(Col,{key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"lec_title\"},res.title),/*#__PURE__*/React.createElement(\"iframe\",{width:250,src:\"https://www.youtube.com/embed/\".concat(res.content),frameborder:\"0\",allow:\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",allowFullScreen:true}));}else if(res.type==='onserver'){return/*#__PURE__*/React.createElement(Col,{key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"lec_title\"},res.title),/*#__PURE__*/React.createElement(\"video\",null,/*#__PURE__*/React.createElement(\"source\",{src:res.content})));}else if(res.type==='link'){return/*#__PURE__*/React.createElement(Col,{key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"lec_title\"},res.title),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"a\",{href:res.content,target:\"_blank\"},/*#__PURE__*/React.createElement(\"img\",{src:clip,width:\"20\"}),\" \\u0414\\u043E\\u0441\\u0442\\u0443\\u043F \\u043F\\u043E \\u0441\\u0441\\u044B\\u043B\\u043A\\u0435\")));}else if(res.type==='frame'){//В Бд нужно только путь из src фрейма вставить\nreturn/*#__PURE__*/React.createElement(Col,{key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"lec_title\"},res.title),/*#__PURE__*/React.createElement(\"iframe\",{width:window.innerHeight/2.5,src:res.content,allowFullScreen:true}));}})))));}}]);return LectureRecords;}(React.Component);export{LectureRecords as default};","map":{"version":3,"sources":["/root/0384full/src/components/lecturerecords.js"],"names":["React","axios","Collapse","Col","LectureRecords","props","subject_id","state","open","lectories","apiUrl","get","then","resp","data","length","setState","map","res","index","type","title","content","clip","window","innerHeight","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport { Collapse, Col } from 'react-bootstrap';\r\n\r\nimport clip from '../assets/img/enlace.svg';\r\n\r\nexport default class LectureRecords extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.subject_id = this.props.subject_id;\r\n\r\n    this.state = {\r\n      open: false,\r\n      lectories: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const apiUrl = `/api/subjectlectories/?id=${this.subject_id}`;\r\n    axios.get(apiUrl).then((resp) => {\r\n      if (resp.data.length > 0) {\r\n        this.setState({\r\n          lectories: resp.data,\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"page-subdirect__lectorBlock\">\r\n        {this.state.lectories.length > 0 && (\r\n          <button\r\n            onClick={() => this.setState({ open: !this.state.open })}\r\n            aria-controls=\"collapsed-block2\"\r\n            aria-expanded={this.state.open}>\r\n            Записи лекций\r\n          </button>\r\n        )}\r\n\r\n        <Collapse in={this.state.open}>\r\n          <div id=\"collapsed-block2\">\r\n            <div className=\"wrapper\">\r\n              {this.state.lectories.map((res, index) => {\r\n                if (res.type === 'youtube') {\r\n                  //В Бд нужно только ID видео на youtube\r\n                  return (\r\n                    <Col key={index}>\r\n                      <div className=\"lec_title\">{res.title}</div>\r\n                      <iframe\r\n                        width={250}\r\n                        src={`https://www.youtube.com/embed/${res.content}`}\r\n                        frameborder=\"0\"\r\n                        allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                        allowFullScreen={true}></iframe>\r\n                    </Col>\r\n                  );\r\n                } else if (res.type === 'onserver') {\r\n                  return (\r\n                    <Col key={index}>\r\n                      <div className=\"lec_title\">{res.title}</div>\r\n                      <video>\r\n                        <source src={res.content} />\r\n                      </video>\r\n                    </Col>\r\n                  );\r\n                } else if (res.type === 'link') {\r\n                  return (\r\n                    <Col key={index}>\r\n                      <div className=\"lec_title\">{res.title}</div>\r\n                      <div>\r\n                        <a href={res.content} target=\"_blank\">\r\n                          <img src={clip} width=\"20\" /> Доступ по ссылке\r\n                        </a>\r\n                      </div>\r\n                    </Col>\r\n                  );\r\n                } else if (res.type === 'frame') {\r\n                  //В Бд нужно только путь из src фрейма вставить\r\n                  return (\r\n                    <Col key={index}>\r\n                      <div className=\"lec_title\">{res.title}</div>\r\n                      <iframe\r\n                        width={window.innerHeight / 2.5}\r\n                        src={res.content}\r\n                        allowFullScreen={true}></iframe>\r\n                    </Col>\r\n                  );\r\n                }\r\n              })}\r\n            </div>\r\n          </div>\r\n        </Collapse>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}