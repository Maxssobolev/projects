{"ast":null,"code":"var _jsxFileName = \"/root/0384full/src/components/subhomework.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Collapse } from 'react-bootstrap';\nimport { Markup } from 'interweave';\nimport { Link } from 'react-router-dom';\nexport default class Subhomework extends React.Component {\n  constructor(props) {\n    super(props);\n    this.subject_id = this.props.subject_id;\n    this.state = {\n      open: false,\n      hw: [],\n      last: ''\n    };\n  }\n\n  componentDidMount() {\n    const apiUrl = `/api/subjecthomework/?id=${this.subject_id}`;\n    axios.get(apiUrl).then(resp => {\n      if (resp.data.length > 0) {\n        this.setState({\n          hw: resp.data,\n          last: resp.data[0].date\n        });\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page-subdirect__hwBlock\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 7\n      }\n    }, this.state.hw.length > 0 && /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.setState({\n        open: !this.state.open\n      }),\n      \"aria-controls\": \"collapsed-block\",\n      \"aria-expanded\": this.state.open,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 11\n      }\n    }, \"\\u0414\\u043E\\u043C\\u0430\\u0448\\u043D\\u0435\\u0435 \\u0437\\u0430\\u0434\\u0430\\u043D\\u0438\\u0435\", /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }\n    }, \"\\u043F\\u043E\\u0441\\u043B\\u0435\\u0434\\u043D\\u0435\\u0435 \\u043E\\u0442 \", this.state.last)), /*#__PURE__*/React.createElement(Collapse, {\n      in: this.state.open,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"collapsed-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }\n    }, this.state.hw.map((res, index) => /*#__PURE__*/React.createElement(Link, {\n      to: {\n        pathname: `/view`,\n        state: {\n          res\n        }\n      },\n      className: \"info-block\",\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"info-block__title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }, res.title), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"info-block__content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Markup, {\n      content: res.content.length > 300 ? res.content.substring(0, 300) + '...' : res.content,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"info-block__date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }\n    }, res.date))))));\n  }\n\n}","map":{"version":3,"sources":["/root/0384full/src/components/subhomework.js"],"names":["React","axios","Collapse","Markup","Link","Subhomework","Component","constructor","props","subject_id","state","open","hw","last","componentDidMount","apiUrl","get","then","resp","data","length","setState","date","render","map","res","index","pathname","title","content","substring"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport { Collapse } from 'react-bootstrap';\r\nimport { Markup } from 'interweave';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default class Subhomework extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.subject_id = this.props.subject_id;\r\n\r\n    this.state = {\r\n      open: false,\r\n      hw: [],\r\n      last: '',\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    const apiUrl = `/api/subjecthomework/?id=${this.subject_id}`;\r\n    axios.get(apiUrl).then((resp) => {\r\n      if (resp.data.length > 0) {\r\n        this.setState({\r\n          hw: resp.data,\r\n          last: resp.data[0].date,\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"page-subdirect__hwBlock\">\r\n        {this.state.hw.length > 0 && (\r\n          <button\r\n            onClick={() => this.setState({ open: !this.state.open })}\r\n            aria-controls=\"collapsed-block\"\r\n            aria-expanded={this.state.open}>\r\n            Домашнее задание\r\n            <span>последнее от {this.state.last}</span>\r\n          </button>\r\n        )}\r\n        <Collapse in={this.state.open}>\r\n          <div id=\"collapsed-block\">\r\n            {this.state.hw.map((res, index) => (\r\n              <Link\r\n                to={{\r\n                  pathname: `/view`,\r\n                  state: { res },\r\n                }}\r\n                className=\"info-block\"\r\n                key={index}>\r\n                <span className=\"info-block__title\">{res.title}</span>\r\n                <span className=\"info-block__content\">\r\n                  {\r\n                    <Markup\r\n                      content={\r\n                        res.content.length > 300\r\n                          ? res.content.substring(0, 300) + '...'\r\n                          : res.content\r\n                      }\r\n                    />\r\n                  }\r\n                </span>\r\n                <span className=\"info-block__date\">{res.date}</span>\r\n              </Link>\r\n            ))}\r\n          </div>\r\n        </Collapse>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}