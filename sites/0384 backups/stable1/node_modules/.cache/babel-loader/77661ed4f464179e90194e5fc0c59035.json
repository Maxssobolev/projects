{"ast":null,"code":"var _jsxFileName = \"/root/0384full/src/components/subhomework.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Collapse } from 'react-bootstrap';\nimport { Markup } from 'interweave';\nimport { Link } from 'react-router-dom';\nexport default class Subhomework extends React.Component {\n  constructor(props) {\n    super(props);\n    this.subject_id = this.props.subject_id;\n    this.state = {\n      hw: [],\n      last: ''\n    };\n  }\n\n  componentDidMount() {\n    const apiUrl = `/api/subjecthomework/?id=${this.subject_id}`;\n    axios.get(apiUrl).then(resp => {\n      if (resp.data.length > 0) {\n        this.setState({\n          hw: resp.data,\n          last: resp.data[0].date\n        });\n      }\n    });\n  }\n\n  render() {\n    if (this.state.hw) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"page-subdirect__hwBlock\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 9\n        }\n      }, this.state.hw.map((res, index) => /*#__PURE__*/React.createElement(Link, {\n        to: {\n          pathname: `/view`,\n          state: {\n            res\n          }\n        },\n        className: \"info-block\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"info-block__title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 15\n        }\n      }, res.title), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"info-block__content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Markup, {\n        content: res.content.length > 300 ? res.content.substring(0, 300) + '...' : res.content,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"info-block__date\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 15\n        }\n      }, res.date))));\n    } else {\n      return 'none';\n    }\n  }\n\n}","map":{"version":3,"sources":["/root/0384full/src/components/subhomework.js"],"names":["React","axios","Collapse","Markup","Link","Subhomework","Component","constructor","props","subject_id","state","hw","last","componentDidMount","apiUrl","get","then","resp","data","length","setState","date","render","map","res","index","pathname","title","content","substring"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,iBAAzB;AACA,SAASC,MAAT,QAAuB,YAAvB;AACA,SAASC,IAAT,QAAqB,kBAArB;AAEA,eAAe,MAAMC,WAAN,SAA0BL,KAAK,CAACM,SAAhC,CAA0C;AACvDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,UAAL,GAAkB,KAAKD,KAAL,CAAWC,UAA7B;AAEA,SAAKC,KAAL,GAAa;AACXC,MAAAA,EAAE,EAAE,EADO;AAEXC,MAAAA,IAAI,EAAE;AAFK,KAAb;AAID;;AACDC,EAAAA,iBAAiB,GAAG;AAClB,UAAMC,MAAM,GAAI,4BAA2B,KAAKL,UAAW,EAA3D;AACAR,IAAAA,KAAK,CAACc,GAAN,CAAUD,MAAV,EAAkBE,IAAlB,CAAwBC,IAAD,IAAU;AAC/B,UAAIA,IAAI,CAACC,IAAL,CAAUC,MAAV,GAAmB,CAAvB,EAA0B;AACxB,aAAKC,QAAL,CAAc;AACZT,UAAAA,EAAE,EAAEM,IAAI,CAACC,IADG;AAEZN,UAAAA,IAAI,EAAEK,IAAI,CAACC,IAAL,CAAU,CAAV,EAAaG;AAFP,SAAd;AAID;AACF,KAPD;AAQD;;AAEDC,EAAAA,MAAM,GAAG;AACP,QAAI,KAAKZ,KAAL,CAAWC,EAAf,EAAmB;AACjB,0BACE;AAAK,QAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKD,KAAL,CAAWC,EAAX,CAAcY,GAAd,CAAkB,CAACC,GAAD,EAAMC,KAAN,kBACjB,oBAAC,IAAD;AACE,QAAA,EAAE,EAAE;AACFC,UAAAA,QAAQ,EAAG,OADT;AAEFhB,UAAAA,KAAK,EAAE;AAAEc,YAAAA;AAAF;AAFL,SADN;AAKE,QAAA,SAAS,EAAC,YALZ;AAME,QAAA,GAAG,EAAEC,KANP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAOE;AAAM,QAAA,SAAS,EAAC,mBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAqCD,GAAG,CAACG,KAAzC,CAPF,eAQE;AAAM,QAAA,SAAS,EAAC,qBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAEI,oBAAC,MAAD;AACE,QAAA,OAAO,EACLH,GAAG,CAACI,OAAJ,CAAYT,MAAZ,GAAqB,GAArB,GAA2BK,GAAG,CAACI,OAAJ,CAAYC,SAAZ,CAAsB,CAAtB,EAAyB,GAAzB,IAAgC,KAA3D,GAAmEL,GAAG,CAACI,OAF3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CARF,eAiBE;AAAM,QAAA,SAAS,EAAC,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAoCJ,GAAG,CAACH,IAAxC,CAjBF,CADD,CADH,CADF;AAyBD,KA1BD,MA0BO;AACL,aAAO,MAAP;AACD;AACF;;AApDsD","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport { Collapse } from 'react-bootstrap';\r\nimport { Markup } from 'interweave';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default class Subhomework extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.subject_id = this.props.subject_id;\r\n\r\n    this.state = {\r\n      hw: [],\r\n      last: '',\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    const apiUrl = `/api/subjecthomework/?id=${this.subject_id}`;\r\n    axios.get(apiUrl).then((resp) => {\r\n      if (resp.data.length > 0) {\r\n        this.setState({\r\n          hw: resp.data,\r\n          last: resp.data[0].date,\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hw) {\r\n      return (\r\n        <div className=\"page-subdirect__hwBlock\">\r\n          {this.state.hw.map((res, index) => (\r\n            <Link\r\n              to={{\r\n                pathname: `/view`,\r\n                state: { res },\r\n              }}\r\n              className=\"info-block\"\r\n              key={index}>\r\n              <span className=\"info-block__title\">{res.title}</span>\r\n              <span className=\"info-block__content\">\r\n                {\r\n                  <Markup\r\n                    content={\r\n                      res.content.length > 300 ? res.content.substring(0, 300) + '...' : res.content\r\n                    }\r\n                  />\r\n                }\r\n              </span>\r\n              <span className=\"info-block__date\">{res.date}</span>\r\n            </Link>\r\n          ))}\r\n        </div>\r\n      );\r\n    } else {\r\n      return 'none';\r\n    }\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}